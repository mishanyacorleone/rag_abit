nmstu_bot — Telegram-бот с RAG и локальной моделью Этот проект представляет собой Telegram-бота , использующего RAG (Retrieval-Augmented Generation) и локально запущенную языковую модель Qwen 2.5 , чтобы отвечать на вопросы по загруженным документам.

Основные компоненты
```
main.py — точка входа, запуск бота

generator.py — генерация ответов с помощью модели

retriever.py — поиск релевантных фрагментов в базе знаний

data/ — папка с индексами FAISS и JSON-файлами с текстом
```
main.py:

Необходимо разместить свой токен Jivo Provider ID, который получается у операторов (нужен для функционирования Bot API).

Необходимо получить токен Telegram Bot у BotFather


БД разделена на несколько таблиц:
```
1. Специальности со столбцами
    -- id специальности +
    -- код специальности +
    -- название направления +
    -- название профиля подготовки + 
    -- описание профиля подготовки
    -- обязательные предметы для сдачи после школы (разделитель ";") +
    -- необязательные предметы для сдачи после школы (разделитель ";") +
    -- предметы для сдачи после колледжа (разделитель ";") +
    -- проходные баллы 2025 год; +
    -- проходные баллы 2024 год; +
    -- проходные баллы 2023 год; +
    -- описание специальности;
2. Стоимость обучения
    -- https://www.magtu.ru/abit/14630-stoimost-obucheniya-2022-bs.html
3. Минимальное и максимальное количество баллов
    -- 
```


Модель должна определять, идет ли она в БД или не идет (вопрос общего плана)

Если вопрос общего плана, то необходимо, чтобы модель с помощью RAG давала какую-либо информацию

Если модель не поняла вопрос, она должна описать вопрос и спросить у пользователя: "Эту ли информацию я должна найти?"

Но при этом модель должна ещё и подгонять названия под специальности. То есть, если человек спрашивает: могу ли я поступить на пркладную информатику, то она должна в text2sql подавать не "пркладная информатика", а "прикладная информатика"


Разделить required_vi в vi_soo_vo по ;
чтобы модели было проще понимать, что от неё требуется

Возможно для этого нужно перепарсить так, чтобы было
required_vi1, required_vi2, optional_vi_ege, optional_ege_vuz
для 07.03.01 и 07.03.03 черчение и рисунок - это необязательные предметы, то есть optional_ege_vuz
стандартный sql запрос должен выглядеть так:
"вывести все из таблицы vi_soo_vo, где (required_vi1 LIKE %первый предмет% OR required_vi1 LIKE %второй предмет% OR required_vi1 LIKE %третий предмет%)
AND (required_vi2 LIKE %первый предмет% OR required_vi2 LIKE %второй предмет% OR required_vi2 LIKE %третий предмет%)
AND (optional_vi_ege LIKE %первый предмет% OR optional_vi_ege LIKE %второй предмет% OR optional_vi_ege LIKE %третий предмет%) 